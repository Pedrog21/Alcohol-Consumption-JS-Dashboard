<!DOCTYPE html>
<meta charset='utf-8'>
<html>
  <head>
    <script src="https://d3js.org/d3.v3.js"></script>
    <script src="https://d3js.org/topojson.v1.js"></script>
    <script src="https://rawgithub.com/markmarkoh/datamaps/master/dist/datamaps.none.min.js"></script>
    <script src="https://rawgithub.com/markmarkoh/datamaps/master/dist/datamaps.prt.js"></script>

    <link rel='stylesheet' href='style.css'>
  </head>

  <body>

    <script type='text/javascript' src='script.js' style="position: relative ; width: 400px; height: 600px"></script>

    <div id="container" style="position: relative; width: 400px; height: 600px; float: left"></div>

    <script type='text/javascript' src='chernoff.js'></script>
   <script>
        var map = new Datamap({
          element: document.getElementById('container'),
          geographyConfig: {
            dataJson: 'https://rawgit.com/markmarkoh/datamaps/master/src/js/data/prt.json'
          },
          done: function(datamap) {
            datamap.svg.selectAll('.datamaps-subunit').on('click', function(geography) {
                console.log(geography.properties.name)
                clickypie();
            });

          },

          scope: 'prt',
         setProjection: function(element, options) {
                          var projection, path;
                          projection = d3.geo.mercator()
                              .center([-8.80, 38.45])
                              .scale(3000)
                              .translate([element.offsetWidth / 2, element.offsetHeight / 2]);
                            path = d3.geo.path().projection( projection );
                            return {path: path, projection: projection};
                          }

          });
    </script>

  </body>
</html>
